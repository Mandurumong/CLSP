<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "com.project.clsp.dao.MemberRepository">
	
	<select id="getMyBoards" parameterType="map" resultType="map">
		select * from (
			select rownum rn, a.* from (
				(select * from freeboard where fb_userid = #{id})
			) a
		) where rn between #{start} and #{end}
	</select>
	
	<select id ="getBoardCount"  parameterType="String"  resultType = "int">
	 select count(*) from freeboard where fb_userid = #{id}
	</select>
	
	
	<select id="getMyReplies" parameterType="map" resultType="map">
 		select * from (
			select rownum rn, a.* from (
				(select * from reply where replyuserid = #{id} )
			) a
		) where rn between #{rstart} and #{rend}
	</select>
	
	
	<select id ="getReplyCount"  parameterType="String"  resultType = "int">
	 select count(*) from reply where replyuserid = #{id}
	</select>
	
	<update id="updateProfile" parameterType="map">
		 update member 
		 set user_email = #{email},
		 user_pw = #{npw}
		 where user_id = #{id}
	</update>
		
</mapper>